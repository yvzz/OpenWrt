# Target Config (针对x86_64通用设备，保持核心配置)
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_DEVICE_generic=y

# 固件分区大小 (根据常见设备存储调整，保留合理冗余)
CONFIG_TARGET_KERNEL_PARTSIZE=64  # 内核分区64M足够
CONFIG_TARGET_ROOTFS_PARTSIZE=800  # 根文件系统缩减至800M（减少冗余）

# 固件类型 (保留主流格式，移除冗余)
# CONFIG_GRUB_CONSOLE is not set  # 非必要控制台，保持关闭
CONFIG_GRUB_IMAGES=y              # 支持GRUB启动
CONFIG_GRUB_EFI_IMAGES=y          # 支持EFI启动（适配现代设备）
CONFIG_TARGET_IMAGES_GZIP=y       # 压缩镜像节省空间
# CONFIG_TARGET_ROOTFS_EXT4FS is not set  # 不启用ext4（squashfs更适合只读根分区）
CONFIG_TARGET_ROOTFS_SQUASHFS=y   # 只读根分区（提高稳定性）
CONFIG_TARGET_ROOTFS_TARGZ=y      # 支持tar.gz扩展格式
# CONFIG_VMDK_IMAGES is not set   # 非虚拟机场景，关闭VMDK

# 镜像构建工具 (按需启用，默认关闭开发模式)
CONFIG_IB=y                       # 保留镜像构建功能
CONFIG_IB_STANDALONE=y
# CONFIG_DEVEL=y                  # 非开发场景关闭，减少调试组件

# 文件系统驱动 (保留常用格式，移除小众类型)
CONFIG_PACKAGE_kmod-fs-autofs4=y
CONFIG_PACKAGE_kmod-fs-btrfs=y    # 支持btrfs（常用NAS格式）
CONFIG_PACKAGE_kmod-fs-cifs=y     # 支持CIFS/SMB
CONFIG_PACKAGE_kmod-fs-exfat=y    # 支持exfat（移动设备常用）
CONFIG_PACKAGE_kmod-fs-exportfs=y
CONFIG_PACKAGE_kmod-fs-ext4=y     # 支持ext4（主流Linux文件系统）
CONFIG_PACKAGE_kmod-fs-f2fs=y     # 支持f2fs（闪存优化）
# CONFIG_PACKAGE_kmod-fs-hfs=y    # 小众苹果格式，注释掉
# CONFIG_PACKAGE_kmod-fs-hfsplus=y
CONFIG_PACKAGE_kmod-fs-isofs=y    # 支持ISO镜像
CONFIG_PACKAGE_kmod-fs-msdos=y    # 支持FAT格式
CONFIG_PACKAGE_kmod-fs-nfs=y      # 支持NFS
CONFIG_PACKAGE_kmod-fs-nfs-common=y
CONFIG_PACKAGE_kmod-fs-nfs-common-rpcsec=y
CONFIG_PACKAGE_kmod-fs-nfs-v3=y
# CONFIG_PACKAGE_kmod-fs-nfs-v4=y  # NFSv4需求较少，注释掉
CONFIG_PACKAGE_kmod-fs-nfsd=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y    # 支持NTFS
CONFIG_PACKAGE_kmod-fs-smbfs-common=y
CONFIG_PACKAGE_kmod-fs-squashfs=y
# CONFIG_PACKAGE_kmod-fs-udf=y    # UDF格式需求低，注释掉
CONFIG_PACKAGE_kmod-fs-vfat=y     # 支持VFAT
CONFIG_PACKAGE_kmod-fs-xfs=y      # 支持XFS（大容量存储）
CONFIG_PACKAGE_kmod-fuse=y        # 支持FUSE

# USB驱动 (保留通用驱动，移除小众设备支持)
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-printer=y
CONFIG_PACKAGE_kmod-usb-roles=y
# 精简小众USB串口驱动，保留主流
CONFIG_PACKAGE_kmod-usb-serial-ch341=y
CONFIG_PACKAGE_kmod-usb-serial-cp210x=y
CONFIG_PACKAGE_kmod-usb-serial-ftdi=y
# CONFIG_PACKAGE_kmod-usb-serial-ipw=y
# CONFIG_PACKAGE_kmod-usb-serial-qualcomm=y
# CONFIG_PACKAGE_kmod-usb-serial-sierrawireless=y
CONFIG_PACKAGE_kmod-usb-serial-pl2303=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-extras=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb-wdm=y
CONFIG_PACKAGE_kmod-usb-xhci-hcd=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y
# CONFIG_PACKAGE_kmod-usbip=y      # USBIP需求低，注释掉
# CONFIG_PACKAGE_kmod-usbip-client=y
# CONFIG_PACKAGE_kmod-usbip-server=y
# CONFIG_PACKAGE_kmod-usbmon=y     # 调试工具，非必要关闭

# USB网络驱动 (保留主流芯片支持)
CONFIG_PACKAGE_kmod-usb-audio=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-dwc2=y
CONFIG_PACKAGE_kmod-usb-dwc3=y
CONFIG_PACKAGE_kmod-usb-ehci=y
CONFIG_PACKAGE_kmod-usb-hid=y
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-asix=y
CONFIG_PACKAGE_kmod-usb-net-asix-ax88179=y  # 主流USB网卡
CONFIG_PACKAGE_kmod-usb-net-cdc-eem=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=y
CONFIG_PACKAGE_kmod-usb-net-rndis=y  # 支持RNDIS（安卓共享）
CONFIG_PACKAGE_kmod-usb-net-rtl8150=y
CONFIG_PACKAGE_kmod-usb-net-rtl8152=y  # 主流Realtek网卡
# CONFIG_PACKAGE_kmod-usb-net-sierrawireless=y
CONFIG_PACKAGE_kmod-usb-net-smsc95xx=y  # 常见USB网卡
# CONFIG_PACKAGE_kmod-usb-net-sr9700=y

# 无线驱动与固件 (保留主流型号)
CONFIG_PACKAGE_kmod-rtlwifi=y
CONFIG_PACKAGE_kmod-rtlwifi-usb=y
CONFIG_PACKAGE_ath9k-htc-firmware=y  # Atheros芯片
CONFIG_PACKAGE_carl9170-firmware=y
# 保留常见Intel无线固件，移除过新/小众型号
# CONFIG_PACKAGE_iwlwifi-firmware-ax200=y
# CONFIG_PACKAGE_iwlwifi-firmware-ax201=y
# CONFIG_PACKAGE_iwlwifi-firmware-ax210=y
CONFIG_PACKAGE_iwlwifi-firmware-iwl8265=y  # 主流Intel网卡

# 应用程序 (去重冗余功能，保留核心工具)
# 广告拦截：保留AdGuardHome（功能更全面）
# CONFIG_PACKAGE_luci-app-adbyby-plus=y
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-app-airplay2=y
CONFIG_PACKAGE_luci-app-openlist=y
CONFIG_PACKAGE_luci-app-argon-config=y  # 配合argon主题
CONFIG_PACKAGE_luci-app-aria2=y         # 下载工具
CONFIG_PACKAGE_luci-app-arpbind=y
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-app-cifs-mount=y
CONFIG_PACKAGE_luci-app-commands=y
CONFIG_PACKAGE_luci-app-ddns=y          # 动态DNS
CONFIG_PACKAGE_luci-app-diskman=y       # 磁盘管理
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_btrfs_progs=y
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_lsblk=y
CONFIG_PACKAGE_luci-app-eqos=y
CONFIG_PACKAGE_luci-app-filetransfer=y  # 文件传输
CONFIG_PACKAGE_luci-app-firewall=y      # 防火墙（核心）
CONFIG_PACKAGE_luci-app-hd-idle=y       # 硬盘休眠
# CONFIG_PACKAGE_luci-app-ikoolproxy=y  # 与AdGuardHome功能重复
# 代理工具：保留PassWall2（功能全面），移除其他
# CONFIG_PACKAGE_luci-app-openclash=y
CONFIG_PACKAGE_luci-app-passwall2=y
CONFIG_PACKAGE_luci-app-passwall2_Iptables_Transparent_Proxy=y
CONFIG_PACKAGE_luci-app-passwall2_Nftables_Transparent_Proxy=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Brook=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Hysteria=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_IPv6_Nat=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_NaiveProxy=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Libev_Server=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Rust_Client=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Rust_Server=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_ShadowsocksR_Libev_Server=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_tuic_client=y
# CONFIG_PACKAGE_luci-app-v2ray-server=y
# CONFIG_PACKAGE_luci-app-vssr=y
CONFIG_PACKAGE_luci-app-poweroff=y
# CONFIG_PACKAGE_luci-app-ipsec-server=y  # 需求低，注释
# CONFIG_PACKAGE_luci-app-ipsec-vpnserver-manyusers=y
# CONFIG_PACKAGE_luci-app-kodexplorer=y  # 替代方案多，注释
CONFIG_PACKAGE_luci-app-minidlna=y      # 媒体共享
# CONFIG_PACKAGE_msd_lite=n
# CONFIG_PACKAGE_luci-app-msd_lite=y     # 与minidlna功能重复
# CONFIG_PACKAGE_luci-i18n-msd_lite-zh-cn=y
# CONFIG_PACKAGE_luci-app-n2n=y          # 小众组网，注释
CONFIG_PACKAGE_luci-app-netdata=y       # 系统监控
CONFIG_PACKAGE_luci-app-nfs=y           # NFS服务
CONFIG_PACKAGE_luci-app-nlbwmon=y       # 流量监控
# CONFIG_PACKAGE_luci-app-nps=y          # 需求低，注释
# CONFIG_PACKAGE_luci-app-onliner=y      # 功能简单，注释
# CONFIG_PACKAGE_luci-app-openvpn-server=y  # 被PassWall2覆盖
CONFIG_PACKAGE_luci-app-pptp-server=y   # VPN服务
CONFIG_PACKAGE_luci-app-pushbot=y       # 消息推送
CONFIG_PACKAGE_luci-app-qbittorrent=y   # BT下载
CONFIG_PACKAGE_luci-app-qbittorrent_dynamic=y
# CONFIG_PACKAGE_luci-app-ramfree=y      # 功能简单，注释
CONFIG_PACKAGE_luci-app-samba4=y        # SMB共享
CONFIG_PACKAGE_luci-app-serverchan=y    # 消息推送
CONFIG_PACKAGE_luci-app-socat=y
# CONFIG_PACKAGE_luci-app-softethervpn=y  # 需求低，注释
CONFIG_PACKAGE_luci-app-sqm=y           # 流量控制
CONFIG_PACKAGE_luci-app-store=y         # 软件商店
CONFIG_PACKAGE_luci-app-syncdial=y      # 多拨
CONFIG_PACKAGE_luci-app-transmission=y  # 下载工具（可选，与aria2二选一）
CONFIG_PACKAGE_luci-app-ttyd=y          # 网页终端
CONFIG_PACKAGE_luci-app-turboacc=y      # 加速工具
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y
CONFIG_PACKAGE_luci-app-udpxy=y         # UDP转发
CONFIG_PACKAGE_luci-app-uhttpd=y        # Web服务
# CONFIG_PACKAGE_luci-app-unblockmusic=y  # 需求低，注释
# CONFIG_PACKAGE_luci-app-unblockmusic_INCLUDE_UnblockNeteaseMusic_Go=y
# CONFIG_PACKAGE_luci-app-unblockmusic_INCLUDE_UnblockNeteaseMusic_NodeJS=y
CONFIG_PACKAGE_luci-app-upnp=y          # UPnP
CONFIG_PACKAGE_luci-app-usb-printer=y   # USB打印机
CONFIG_PACKAGE_luci-app-verysync=y      # 同步工具
CONFIG_PACKAGE_luci-app-vlmcsd=y        # KMS服务
CONFIG_PACKAGE_luci-app-vsftpd=y        # FTP服务
CONFIG_PACKAGE_luci-app-wireguard=y     # 主流VPN
CONFIG_PACKAGE_luci-app-wol=y           # 远程唤醒
CONFIG_PACKAGE_luci-app-wrtbwmon=y      # 带宽监控
CONFIG_PACKAGE_luci-app-xlnetacc=y      # 迅雷加速
CONFIG_PACKAGE_luci-app-zerotier=y      # 组网工具

# 主题 (保留1个主流主题，减少体积)
CONFIG_PACKAGE_luci-theme-argon=y       # 保留argon（美观且流行）
# CONFIG_PACKAGE_luci-theme-edge=y
# CONFIG_PACKAGE_luci-theme-infinityfreedom=y
# CONFIG_PACKAGE_luci-theme-design=y

# 3G/4G支持 (按需启用，默认注释)
# CONFIG_PACKAGE_comgt-ncm=y
# CONFIG_PACKAGE_comgt=y
# CONFIG_PACKAGE_kmod-mii=y
# CONFIG_PACKAGE_kmod-usb-acm=y
# CONFIG_PACKAGE_kmod-usb-serial=y
# CONFIG_PACKAGE_kmod-usb-serial-option=y
# CONFIG_PACKAGE_kmod-usb-serial-wwan=y
# CONFIG_PACKAGE_luci-proto-3g=y
# CONFIG_PACKAGE_luci-proto-ncm=y
# CONFIG_PACKAGE_luci-proto-qmi=y
# CONFIG_PACKAGE_qmi-utils=y
# CONFIG_PACKAGE_umbim=y
# CONFIG_PACKAGE_uqmi=y
# CONFIG_PACKAGE_usb-modeswitch=y

# SD卡支持 (按需启用，默认关闭)
# CONFIG_PACKAGE_kmod-sdhci=y

# 移动设备共享 (小众功能，默认注释)
# CONFIG_PACKAGE_libimobiledevice-utils=y
# CONFIG_PACKAGE_libplist=y
# CONFIG_PACKAGE_libusbmuxd-utils=y
# CONFIG_PACKAGE_usbmuxd=y

# Python3 (非必要依赖，默认关闭)
# CONFIG_PACKAGE_python-pip-conf=y
# CONFIG_PACKAGE_python3=y

# 工具软件 (保留常用工具，精简冗余)
CONFIG_PACKAGE_ariang=y                 # Aria2前端
CONFIG_PACKAGE_automount=y              # 自动挂载
# CONFIG_PACKAGE_autosamba=n
CONFIG_PACKAGE_samba4-server=y
CONFIG_PACKAGE_bsdtar=y
CONFIG_PACKAGE_diffutils=y
CONFIG_PACKAGE_e2fsprogs=y              # ext工具
CONFIG_PACKAGE_f2fs-tools=y             # f2fs工具
CONFIG_PACKAGE_f2fsck=y
CONFIG_PACKAGE_fdisk=y                  # 分区工具
# CONFIG_PACKAGE_gpiod-tools=y          # 小众GPIO工具
CONFIG_PACKAGE_gzip=y
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_htop=y                   # 系统监控
CONFIG_PACKAGE_iperf3=y                 # 测速工具
CONFIG_PACKAGE_lsblk=y                  # 磁盘信息
CONFIG_PACKAGE_lscpu=y
CONFIG_PACKAGE_nano-plus=y              # 轻量编辑器（替代vim）
# CONFIG_PACKAGE_nginx=y                # 非必要Web服务，注释
CONFIG_PACKAGE_openssh-sftp-client=y
CONFIG_PACKAGE_openssh-sftp-server=y
CONFIG_PACKAGE_resize2fs=y
CONFIG_PACKAGE_snmpd=y                  # 网络监控
CONFIG_PACKAGE_tmux=y                   # 终端复用
CONFIG_PACKAGE_tree=y                   # 目录查看
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_usbutils=y               # USB设备工具
# CONFIG_PACKAGE_vim-fuller=y           # 体积大，用nano替代
CONFIG_PACKAGE_whereis=y
CONFIG_PACKAGE_wireless-tools=y
CONFIG_PACKAGE_wpad-openssl=y           # 无线认证
# CONFIG_PACKAGE_zsh=y                  # 用默认shell替代，减少体积

# 加速与网络 (保留核心功能)
CONFIG_PACKAGE_kmod-shortcut-fe=y
CONFIG_PACKAGE_kmod-shortcut-fe-cm=y

# IPv6支持 (保留核心，精简扩展)
CONFIG_PACKAGE_6in4=y
CONFIG_PACKAGE_ipv6helper=y
CONFIG_PACKAGE_ip6tables=y
# CONFIG_PACKAGE_ip6tables-extra=y      # 非必要扩展
# CONFIG_PACKAGE_ip6tables-mod-nat=y    # 按需启用
