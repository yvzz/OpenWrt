# ===================== 基础目标配置 =====================
# 目标架构：x86_64 通用设备（核心配置，无错误）
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_DEVICE_generic=y

# ===================== 固件分区配置 =====================
# 内核分区大小：64M（x86_64 内核足够，无需调整）
CONFIG_TARGET_KERNEL_PARTSIZE=64
# 根文件系统分区大小：800M（可优化：精简版512M/扩展版1024M）
CONFIG_TARGET_ROOTFS_PARTSIZE=800

# ===================== 固件类型配置 =====================
# 关闭GRUB控制台（非必要，减少冗余）
# CONFIG_GRUB_CONSOLE is not set
# 启用GRUB启动（x86通用）
CONFIG_GRUB_IMAGES=y
# 启用EFI启动（适配现代x86_64设备，如UEFI主板）
CONFIG_GRUB_EFI_IMAGES=y
# 启用镜像GZIP压缩（节省存储空间）
CONFIG_TARGET_IMAGES_GZIP=y
# 关闭ext4根分区（squashfs更适合只读根分区，提高稳定性）
# CONFIG_TARGET_ROOTFS_EXT4FS is not set
# 启用squashfs只读根分区（OpenWrt主流，减少写入损耗）
CONFIG_TARGET_ROOTFS_SQUASHFS=y
# 启用tar.gz格式根文件系统（支持扩展/备份）
CONFIG_TARGET_ROOTFS_TARGZ=y
# 关闭VMDK镜像（非虚拟机场景，减少编译体积）
# CONFIG_VMDK_IMAGES is not set

# ===================== 镜像构建工具 =====================
# 启用ImageBuilder（镜像构建核心功能）
CONFIG_IB=y
CONFIG_IB_STANDALONE=y
# 关闭开发模式（非开发场景，减少调试组件/体积）
# CONFIG_DEVEL=y

# ===================== 文件系统驱动 =====================
CONFIG_PACKAGE_kmod-fs-autofs4=y        # 自动挂载文件系统
CONFIG_PACKAGE_kmod-fs-btrfs=y          # BTRFS驱动（NAS常用，支持快照/压缩）
CONFIG_PACKAGE_kmod-fs-cifs=y           # CIFS/SMB驱动（Windows共享）
CONFIG_PACKAGE_kmod-fs-exfat=y          # exFAT驱动（移动设备常用）
CONFIG_PACKAGE_kmod-fs-exportfs=y       # 文件系统导出（NFS等依赖）
CONFIG_PACKAGE_kmod-fs-ext4=y           # EXT4驱动（主流Linux文件系统，仅非根分区使用）
CONFIG_PACKAGE_kmod-fs-f2fs=y           # F2FS驱动（闪存优化，适合U盘/SSD）
# CONFIG_PACKAGE_kmod-fs-hfs=y          # 小众苹果格式，禁用减少体积
# CONFIG_PACKAGE_kmod-fs-hfsplus=y
CONFIG_PACKAGE_kmod-fs-isofs=y          # ISO镜像挂载驱动
CONFIG_PACKAGE_kmod-fs-msdos=y          # FAT格式驱动（兼容老旧设备）
CONFIG_PACKAGE_kmod-fs-nfs=y            # NFS基础驱动
CONFIG_PACKAGE_kmod-fs-nfs-common=y     # NFS通用组件
CONFIG_PACKAGE_kmod-fs-nfs-common-rpcsec=y # NFS RPC安全组件
CONFIG_PACKAGE_kmod-fs-nfs-v3=y         # NFSv3驱动（兼容旧设备）
# CONFIG_PACKAGE_kmod-fs-nfs-v4=y        # 可优化：NFSv4是主流，建议启用
CONFIG_PACKAGE_kmod-fs-nfsd=y           # NFS服务端驱动
CONFIG_PACKAGE_kmod-fs-ntfs3=y          # NTFS3驱动（原生内核驱动，替代ntfs-3g）
CONFIG_PACKAGE_kmod-fs-smbfs-common=y   # SMB通用驱动
CONFIG_PACKAGE_kmod-fs-squashfs=y       # Squashfs驱动（根分区依赖）
# CONFIG_PACKAGE_kmod-fs-udf=y          # UDF格式（光盘/蓝光），需求极低，禁用
CONFIG_PACKAGE_kmod-fs-vfat=y           # VFAT驱动（U盘/移动硬盘常用）
CONFIG_PACKAGE_kmod-fs-xfs=y            # XFS驱动（大容量存储/企业级）
CONFIG_PACKAGE_kmod-fuse=y              # FUSE驱动（用户态文件系统，如网盘挂载）

# ===================== USB驱动 =====================
# 过时：OHCI/UHCI为老旧USB控制器，x86_64无保留必要
# CONFIG_PACKAGE_kmod-usb-ohci=y
# CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb-printer=y       # USB打印机驱动
CONFIG_PACKAGE_kmod-usb-roles=y         # USB角色切换（OTG）
# USB串口驱动（保留主流芯片：CH341/CP210x/FTDI/PL2303）
CONFIG_PACKAGE_kmod-usb-serial-ch341=y
CONFIG_PACKAGE_kmod-usb-serial-cp210x=y
CONFIG_PACKAGE_kmod-usb-serial-ftdi=y
# CONFIG_PACKAGE_kmod-usb-serial-ipw=y  # 小众驱动，禁用
# CONFIG_PACKAGE_kmod-usb-serial-qualcomm=y # 小众驱动，禁用
# CONFIG_PACKAGE_kmod-usb-serial-sierrawireless=y # 小众驱动，禁用
CONFIG_PACKAGE_kmod-usb-serial-pl2303=y
CONFIG_PACKAGE_kmod-usb-storage=y       # USB存储核心驱动
CONFIG_PACKAGE_kmod-usb-storage-extras=y # USB存储扩展驱动（支持更多设备）
CONFIG_PACKAGE_kmod-usb-wdm=y           # USB WDM驱动（4G模块等）
CONFIG_PACKAGE_kmod-usb-xhci-hcd=y      # USB 3.0 xHCI控制器（x86_64主流）
CONFIG_PACKAGE_kmod-usb2=y              # USB 2.0核心驱动
CONFIG_PACKAGE_kmod-usb3=y              # USB 3.0核心驱动
# CONFIG_PACKAGE_kmod-usbip=y            # USBIP（网络共享USB），需求低
# CONFIG_PACKAGE_kmod-usbip-client=y
# CONFIG_PACKAGE_kmod-usbip-server=y
# CONFIG_PACKAGE_kmod-usbmon=y           # USB调试工具，非必要禁用

# ===================== USB网络驱动 =====================
CONFIG_PACKAGE_kmod-usb-audio=y         # USB音频驱动
CONFIG_PACKAGE_kmod-usb-core=y          # USB核心驱动
CONFIG_PACKAGE_kmod-usb-dwc2=y          # USB DWC2控制器（嵌入式常用，x86可选）
CONFIG_PACKAGE_kmod-usb-dwc3=y          # USB DWC3控制器（嵌入式常用，x86可选）
CONFIG_PACKAGE_kmod-usb-ehci=y          # USB EHCI控制器（兼容旧设备）
CONFIG_PACKAGE_kmod-usb-hid=y           # USB HID设备（键鼠/手柄）
CONFIG_PACKAGE_kmod-usb-net=y           # USB网络核心驱动
CONFIG_PACKAGE_kmod-usb-net-asix=y      # ASIX USB网卡驱动
CONFIG_PACKAGE_kmod-usb-net-asix-ax88179=y # 主流AX88179 USB网卡
CONFIG_PACKAGE_kmod-usb-net-cdc-eem=y   # CDC-EEM协议（USB网络）
CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y # CDC-Ether协议（USB网络）
CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=y   # CDC-NCM协议（4G模块常用）
CONFIG_PACKAGE_kmod-usb-net-rndis=y     # RNDIS协议（安卓USB共享）
CONFIG_PACKAGE_kmod-usb-net-rtl8150=y   # RTL8150 USB网卡
CONFIG_PACKAGE_kmod-usb-net-rtl8152=y   # 主流RTL8152 USB网卡
# CONFIG_PACKAGE_kmod-usb-net-sierrawireless=y # 小众无线模块，禁用
CONFIG_PACKAGE_kmod-usb-net-smsc95xx=y  # 常用SMSC95XX USB网卡
# CONFIG_PACKAGE_kmod-usb-net-sr9700=y  # 小众网卡，禁用

# ===================== 无线驱动与固件 =====================
CONFIG_PACKAGE_kmod-rtlwifi=y           # Realtek WiFi核心驱动
CONFIG_PACKAGE_kmod-rtlwifi-usb=y       # Realtek USB WiFi驱动
CONFIG_PACKAGE_ath9k-htc-firmware=y     # Atheros USB WiFi固件
CONFIG_PACKAGE_carl9170-firmware=y      # Carl9170 WiFi固件
# 可优化：ax200/ax201/ax210是x86_64主流无线网卡，建议按需启用
# CONFIG_PACKAGE_iwlwifi-firmware-ax200=y
# CONFIG_PACKAGE_iwlwifi-firmware-ax201=y
# CONFIG_PACKAGE_iwlwifi-firmware-ax210=y
CONFIG_PACKAGE_iwlwifi-firmware-iwl8265=y # 主流Intel 8265 WiFi固件

# ===================== 核心应用插件 =====================
# 广告拦截：AdGuardHome（功能全面，替代adbyby/ikoolproxy）
# CONFIG_PACKAGE_luci-app-adbyby-plus=y  # 弃用：停止维护
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-app-airplay2=y       # AirPlay2投屏
CONFIG_PACKAGE_luci-app-openlist=y       # 应用过滤/名单管理
CONFIG_PACKAGE_luci-app-argon-config=y   # Argon主题配置
CONFIG_PACKAGE_luci-app-aria2=y          # Aria2下载工具（可与Transmission二选一）
CONFIG_PACKAGE_luci-app-arpbind=y        # IP-MAC绑定
CONFIG_PACKAGE_luci-app-autoreboot=y     # 定时重启
CONFIG_PACKAGE_luci-app-cifs-mount=y     # CIFS挂载（Windows共享）
CONFIG_PACKAGE_luci-app-commands=y       # 自定义命令执行
CONFIG_PACKAGE_luci-app-ddns=y           # 动态DNS（公网IP适配）
CONFIG_PACKAGE_luci-app-diskman=y        # 磁盘管理（分区/格式化）
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_btrfs_progs=y # diskman依赖：btrfs工具
CONFIG_PACKAGE_luci-app-diskman_INCLUDE_lsblk=y        # diskman依赖：lsblk工具
CONFIG_PACKAGE_luci-app-eqos=y           # 基于IP的带宽控制
CONFIG_PACKAGE_luci-app-filetransfer=y   # 文件传输（Web上传/下载）
CONFIG_PACKAGE_luci-app-firewall=y       # 防火墙（OpenWrt核心，必须保留）
CONFIG_PACKAGE_luci-app-hd-idle=y        # 硬盘休眠（减少NAS硬盘损耗）
# CONFIG_PACKAGE_luci-app-ikoolproxy=y   # 弃用：与AdGuardHome重复

# 代理工具：PassWall2（功能全面，替代openclash/v2ray-server/vssr）
# CONFIG_PACKAGE_luci-app-openclash=y
CONFIG_PACKAGE_luci-app-passwall2=y
CONFIG_PACKAGE_luci-app-passwall2_Iptables_Transparent_Proxy=y # PassWall2：iptables透明代理
CONFIG_PACKAGE_luci-app-passwall2_Nftables_Transparent_Proxy=y # PassWall2：nftables透明代理
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Brook=y               # PassWall2：Brook协议
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Hysteria=y           # PassWall2：Hysteria协议
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_IPv6_Nat=y           # PassWall2：IPv6 NAT
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_NaiveProxy=y         # PassWall2：NaiveProxy协议
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Libev_Server=y # PassWall2：SS Libev服务端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Rust_Client=y   # PassWall2：SS Rust客户端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Rust_Server=y   # PassWall2：SS Rust服务端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_ShadowsocksR_Libev_Server=y # PassWall2：SSR Libev服务端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_tuic_client=y        # PassWall2：TUIC客户端
# CONFIG_PACKAGE_luci-app-v2ray-server=y # 弃用：被PassWall2覆盖
# CONFIG_PACKAGE_luci-app-vssr=y         # 弃用：停止维护

CONFIG_PACKAGE_luci-app-poweroff=y       # 网页关机（x86实用功能）
# CONFIG_PACKAGE_luci-app-ipsec-server=y # 需求低：WireGuard更主流
# CONFIG_PACKAGE_luci-app-ipsec-vpnserver-manyusers=y
# CONFIG_PACKAGE_luci-app-kodexplorer=y  # 替代方案多（如NextCloud），禁用减少体积
CONFIG_PACKAGE_luci-app-minidlna=y       # DLNA媒体共享（家庭影音）
# CONFIG_PACKAGE_msd_lite=n              # 语法错误：应改为 # CONFIG_PACKAGE_msd_lite is not set
# CONFIG_PACKAGE_luci-app-msd_lite=y     # 与minidlna功能重复，禁用
# CONFIG_PACKAGE_luci-i18n-msd_lite-zh-cn=y
# CONFIG_PACKAGE_luci-app-n2n=y          # 小众组网工具，禁用
CONFIG_PACKAGE_luci-app-netdata=y        # 系统监控（CPU/内存/带宽/磁盘）
CONFIG_PACKAGE_luci-app-nfs=y            # NFS服务端（Linux共享）
CONFIG_PACKAGE_luci-app-nlbwmon=y        # 网络流量统计
# CONFIG_PACKAGE_luci-app-nps=y          # 需求低，禁用
# CONFIG_PACKAGE_luci-app-onliner=y      # 过时：功能被netdata覆盖
# CONFIG_PACKAGE_luci-app-openvpn-server=y # 被PassWall2覆盖，禁用
CONFIG_PACKAGE_luci-app-pptp-server=y    # PPTP VPN服务端（兼容旧设备）
CONFIG_PACKAGE_luci-app-pushbot=y        # 消息推送（如钉钉/微信）
CONFIG_PACKAGE_luci-app-qbittorrent=y    # qBittorrent BT下载（带WebUI）
CONFIG_PACKAGE_luci-app-qbittorrent_dynamic=y # qBittorrent动态编译（适配更多架构）
# CONFIG_PACKAGE_luci-app-ramfree=y      # 过时：功能被htop/netdata覆盖
CONFIG_PACKAGE_luci-app-samba4=y         # Samba4（Windows/Linux共享）
CONFIG_PACKAGE_luci-app-serverchan=y     # Server酱消息推送（微信）
CONFIG_PACKAGE_luci-app-socat=y          # 端口转发/网络工具（核心依赖）
# CONFIG_PACKAGE_luci-app-softethervpn=y # 需求低，禁用
CONFIG_PACKAGE_luci-app-sqm=y            # 流量整形（解决网络卡顿）
CONFIG_PACKAGE_luci-app-store=y          # OpenWrt软件商店（在线安装插件）
CONFIG_PACKAGE_luci-app-syncdial=y       # 多拨（部分运营商限制，按需启用）
CONFIG_PACKAGE_luci-app-transmission=y   # Transmission BT下载（可与Aria2二选一）
CONFIG_PACKAGE_luci-app-ttyd=y           # Web终端（无需SSH直接操作）
CONFIG_PACKAGE_luci-app-turboacc=y       # 网络加速（x86仅软件加速有效）
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y # TurboACC：转发卸载（x86无硬件加速）
CONFIG_PACKAGE_luci-app-udpxy=y          # UDP转发（IPTV等）
CONFIG_PACKAGE_luci-app-uhttpd=y         # Web服务器（LuCI依赖）
# CONFIG_PACKAGE_luci-app-unblockmusic=y # 需求低，禁用
# CONFIG_PACKAGE_luci-app-unblockmusic_INCLUDE_UnblockNeteaseMusic_Go=y
# CONFIG_PACKAGE_luci-app-unblockmusic_INCLUDE_UnblockNeteaseMusic_NodeJS=y
CONFIG_PACKAGE_luci-app-upnp=y           # UPnP（自动端口映射，如游戏/下载）
CONFIG_PACKAGE_luci-app-usb-printer=y    # USB打印机共享
CONFIG_PACKAGE_luci-app-verysync=y       # 微同步（文件同步）
CONFIG_PACKAGE_luci-app-vlmcsd=y         # KMS激活（Windows/Office）
CONFIG_PACKAGE_luci-app-vsftpd=y         # FTP服务端（文件共享）
CONFIG_PACKAGE_luci-app-wireguard=y      # WireGuard VPN（主流轻量VPN）
CONFIG_PACKAGE_luci-app-wol=y            # 远程唤醒（WOL）
CONFIG_PACKAGE_luci-app-wrtbwmon=y       # 带宽监控（按设备统计）
CONFIG_PACKAGE_luci-app-xlnetacc=y       # 过时：迅雷加速，停止维护
CONFIG_PACKAGE_luci-app-zerotier=y       # ZeroTier组网（异地组网）

# ===================== 主题配置 =====================
CONFIG_PACKAGE_luci-theme-argon=y        # Argon主题（美观/流行，仅保留一个减少体积）
# CONFIG_PACKAGE_luci-theme-edge=y
# CONFIG_PACKAGE_luci-theme-infinityfreedom=y
# CONFIG_PACKAGE_luci-theme-design=y

# ===================== 3G/4G支持（按需启用） =====================
# CONFIG_PACKAGE_comgt-ncm=y
# CONFIG_PACKAGE_comgt=y
# CONFIG_PACKAGE_kmod-mii=y
# CONFIG_PACKAGE_kmod-usb-acm=y
# CONFIG_PACKAGE_kmod-usb-serial=y
# CONFIG_PACKAGE_kmod-usb-serial-option=y
# CONFIG_PACKAGE_kmod-usb-serial-wwan=y
# CONFIG_PACKAGE_luci-proto-3g=y
# CONFIG_PACKAGE_luci-proto-ncm=y
# CONFIG_PACKAGE_luci-proto-qmi=y
# CONFIG_PACKAGE_qmi-utils=y
# CONFIG_PACKAGE_umbim=y
# CONFIG_PACKAGE_uqmi=y
# CONFIG_PACKAGE_usb-modeswitch=y

# ===================== SD卡支持（x86极少用，禁用） =====================
# CONFIG_PACKAGE_kmod-sdhci=y

# ===================== 移动设备共享（小众，禁用） =====================
# CONFIG_PACKAGE_libimobiledevice-utils=y
# CONFIG_PACKAGE_libplist=y
# CONFIG_PACKAGE_libusbmuxd-utils=y
# CONFIG_PACKAGE_usbmuxd=y

# ===================== Python3（非必要，禁用减少体积） =====================
# CONFIG_PACKAGE_python-pip-conf=y
# CONFIG_PACKAGE_python3=y

# ===================== 工具软件 =====================
CONFIG_PACKAGE_ariang=y                 # Aria2 Web前端
CONFIG_PACKAGE_automount=y              # 自动挂载（USB存储插入自动挂载）
# CONFIG_PACKAGE_autosamba=n             # 语法错误：应改为 # CONFIG_PACKAGE_autosamba is not set
CONFIG_PACKAGE_samba4-server=y          # Samba4服务端（与luci-app-samba4配套）
CONFIG_PACKAGE_bsdtar=y                 # tar解压工具（BSD版本，兼容更多格式）
CONFIG_PACKAGE_diffutils=y              # 文本对比工具（调试/配置对比）
CONFIG_PACKAGE_e2fsprogs=y              # EXT4文件系统工具（检查/修复）
CONFIG_PACKAGE_f2fs-tools=y             # F2FS文件系统工具
CONFIG_PACKAGE_f2fsck=y                 # F2FS检查工具
CONFIG_PACKAGE_fdisk=y                  # 分区工具（核心）
# CONFIG_PACKAGE_gpiod-tools=y            # 小众GPIO工具，禁用
CONFIG_PACKAGE_gzip=y                   # GZIP压缩/解压
CONFIG_PACKAGE_hostapd-common=y         # hostapd通用组件（无线AP）
CONFIG_PACKAGE_htop=y                   # 系统监控（比top更友好）
CONFIG_PACKAGE_iperf3=y                 # 网络测速工具（调试网络）
CONFIG_PACKAGE_lsblk=y                  # 磁盘信息查看（diskman依赖）
CONFIG_PACKAGE_lscpu=y                  # CPU信息查看
CONFIG_PACKAGE_nano-plus=y              # 轻量编辑器（替代vim，体积小）
# CONFIG_PACKAGE_nginx=y                # 非必要Web服务，禁用（uhttpd足够）
CONFIG_PACKAGE_openssh-sftp-client=y    # SFTP客户端（文件传输）
CONFIG_PACKAGE_openssh-sftp-server=y    # SFTP服务端（文件传输）
CONFIG_PACKAGE_resize2fs=y              # EXT分区调整工具
CONFIG_PACKAGE_snmpd=y                  # SNMP网络监控（企业级需求）
CONFIG_PACKAGE_tmux=y                   # 终端复用（后台执行命令）
CONFIG_PACKAGE_tree=y                   # 目录树查看工具
CONFIG_PACKAGE_unzip=y                  # ZIP解压工具
CONFIG_PACKAGE_usbutils=y               # USB设备信息工具（lsusb等）
# CONFIG_PACKAGE_vim-fuller=y            # 体积大，用nano-plus替代
CONFIG_PACKAGE_whereis=y                # 命令路径查找工具
CONFIG_PACKAGE_wireless-tools=y         # 无线调试工具（iwconfig等）
CONFIG_PACKAGE_wpad-openssl=y           # 过时：建议替换为wpad-mbedtls（轻量化）
# CONFIG_PACKAGE_zsh=y                  # 用默认shell（ash）替代，减少体积

# ===================== 加速与网络（错误配置标注） =====================
# 错误：Shortcut FE是MTK硬件加速，x86_64无效，禁用
# CONFIG_PACKAGE_kmod-shortcut-fe=y
# CONFIG_PACKAGE_kmod-shortcut-fe-cm=y

# ===================== IPv6支持 =====================
CONFIG_PACKAGE_6in4=y                   # IPv6 over IPv4隧道
CONFIG_PACKAGE_ipv6helper=y             # IPv6辅助工具（自动配置）
CONFIG_PACKAGE_ip6tables=y              # IPv6防火墙
# CONFIG_PACKAGE_ip6tables-extra=y      # IPv6防火墙扩展，非必要禁用
# CONFIG_PACKAGE_ip6tables-mod-nat=y    # IPv6 NAT，按需启用
