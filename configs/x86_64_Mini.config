# ==============================================
# OpenWrt x86_64 编译配置文件（x86_64_Mini.config）
# 配置说明：适配x86_64通用平台，集成常用插件+网络工具+VPN+加速组件
# ==============================================

# -------------------------- 目标平台配置 --------------------------
# 启用x86架构
CONFIG_TARGET_x86=y
# 启用x86_64子架构
CONFIG_TARGET_x86_64=y
# 适配x86_64通用设备
CONFIG_TARGET_x86_64_DEVICE_generic=y

# -------------------------- 固件分区配置 --------------------------
# 内核分区大小：16MB（适配x86平台内核镜像大小）
CONFIG_TARGET_KERNEL_PARTSIZE=16
# 根文件系统分区大小：400MB（需大于插件总占用空间，避免编译失败）
CONFIG_TARGET_ROOTFS_PARTSIZE=400

# -------------------------- 固件格式配置 --------------------------
# 关闭GRUB控制台输出（减少固件体积）
# CONFIG_GRUB_CONSOLE is not set
# 启用GRUB镜像（x86平台引导必备）
CONFIG_GRUB_IMAGES=y
# 启用GRUB EFI镜像（支持UEFI引导）
CONFIG_GRUB_EFI_IMAGES=y
# 固件压缩格式：GZIP（平衡压缩率和解压速度）
CONFIG_TARGET_IMAGES_GZIP=y
# 关闭EXT4根文件系统（避免格式冲突）
# CONFIG_TARGET_ROOTFS_EXT4FS is not set
# 启用SquashFS根文件系统（OpenWrt主流只读格式，稳定性高）
CONFIG_TARGET_ROOTFS_SQUASHFS=y
# 关闭TARGZ根文件系统（避免格式冲突）
# CONFIG_TARGET_ROOTFS_TARGZ is not set
# 关闭VMDK镜像（非通用x86场景，减少编译耗时）
# CONFIG_VMDK_IMAGES is not set

# -------------------------- 核心应用插件 --------------------------
# 1. 广告屏蔽：Adbyby Plus（基础+LuCI界面）
CONFIG_PACKAGE_adbyby-plus=y        # Adbyby核心服务包（luci-app-adbyby-plus依赖）
CONFIG_PACKAGE_luci-app-adbyby-plus=y  # Adbyby LuCI管理界面

# 2. 广告过滤/DNS解析：AdGuardHome（基础+LuCI界面）
CONFIG_PACKAGE_adguardhome=y        # AdGuardHome核心服务包（luci-app-adguardhome依赖）
CONFIG_PACKAGE_luci-app-adguardhome=y  # AdGuardHome LuCI管理界面

# 3. 应用过滤：Openlist（基础+LuCI界面，推测为应用列表管控）
CONFIG_PACKAGE_openlist=y           # Openlist核心服务包
CONFIG_PACKAGE_luci-app-openlist=y  # Openlist LuCI管理界面

# 4. 主题配置：Argon主题设置（LuCI界面）
CONFIG_PACKAGE_luci-app-argon-config=y  # Argon主题自定义配置工具

# 5. ARP绑定：防ARP欺骗（基础+LuCI界面）
CONFIG_PACKAGE_arpbind=y            # ARP绑定核心服务包
CONFIG_PACKAGE_luci-app-arpbind=y   # ARP绑定LuCI管理界面

# 6. 自动重启：定时重启系统（基础+LuCI界面）
CONFIG_PACKAGE_autoreboot=y         # 自动重启核心服务包
CONFIG_PACKAGE_luci-app-autoreboot=y  # 自动重启LuCI管理界面

# 7. DDNS动态域名：动态解析公网IP（基础+LuCI界面）
CONFIG_PACKAGE_ddns-scripts=y       # DDNS核心脚本包（luci-app-ddns依赖）
CONFIG_PACKAGE_luci-app-ddns=y      # DDNS LuCI管理界面

# 8. 磁盘管理：分区/挂载管理（基础+LuCI界面）
CONFIG_PACKAGE_diskman=y            # Diskman核心服务包（磁盘管理）
CONFIG_PACKAGE_luci-app-diskman=y   # Diskman LuCI管理界面

# 9. 文件传输：WEB文件上传/下载（基础+LuCI界面）
CONFIG_PACKAGE_filetransfer=y       # 文件传输核心组件
CONFIG_PACKAGE_luci-app-filetransfer=y  # 文件传输LuCI管理界面

# 10. 防火墙：系统防火墙（基础+LuCI界面，必选）
CONFIG_PACKAGE_firewall=y           # 防火墙核心服务包（系统必备）
CONFIG_PACKAGE_luci-app-firewall=y  # 防火墙LuCI管理界面

# 11. 系统监控：Netdata（实时监控+LuCI界面）
CONFIG_PACKAGE_netdata=y            # Netdata核心监控包
CONFIG_PACKAGE_luci-app-netdata=y   # Netdata LuCI管理界面

# 12. 流量统计：NLBWmon（网络带宽监控+LuCI界面）
CONFIG_PACKAGE_nlbwmon=y            # NLBWmon核心统计包
CONFIG_PACKAGE_luci-app-nlbwmon=y   # NLBWmon LuCI管理界面

# 13. 在线用户：查看在线设备（基础+LuCI界面）
CONFIG_PACKAGE_onliner=y            # Onliner核心服务包
CONFIG_PACKAGE_luci-app-onliner=y   # Onliner LuCI管理界面

# 14. 网络代理：OpenClash（Clash客户端+LuCI界面）
CONFIG_PACKAGE_openclash=y          # OpenClash核心服务包
CONFIG_PACKAGE_luci-app-openclash=y # OpenClash LuCI管理界面

# 15. 广告过滤：iKoolProxy（基础+LuCI界面）
CONFIG_PACKAGE_ikoolproxy=y         # iKoolProxy核心服务包
CONFIG_PACKAGE_luci-app-ikoolproxy=y  # iKoolProxy LuCI管理界面

# 16. 网络代理：PassWall2（核心+LuCI界面+全协议支持）
CONFIG_PACKAGE_passwall2=y                      # PassWall2核心服务包
CONFIG_PACKAGE_luci-app-passwall2=y              # PassWall2 LuCI管理界面
CONFIG_PACKAGE_luci-app-passwall2_Iptables_Transparent_Proxy=y  # IPTables透明代理
CONFIG_PACKAGE_luci-app-passwall2_Nftables_Transparent_Proxy=y   # NFTables透明代理
# PassWall2 协议依赖（按需启用）
CONFIG_PACKAGE_brook=y                          # Brook协议核心包
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Brook=y
CONFIG_PACKAGE_hysteria=y                       # Hysteria协议核心包
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Hysteria=y
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_IPv6_Nat=y             # IPv6 NAT支持
CONFIG_PACKAGE_naiveproxy=y                     # NaiveProxy协议核心包
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_NaiveProxy=y
CONFIG_PACKAGE_shadowsocks-libev-server=y       # SS-libev服务端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Libev_Server=y
CONFIG_PACKAGE_shadowsocks-rust-client=y        # SS-rust客户端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Rust_Client=y
CONFIG_PACKAGE_shadowsocks-rust-server=y        # SS-rust服务端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_Shadowsocks_Rust_Server=y
CONFIG_PACKAGE_shadowsocksr-libev-server=y      # SSR-libev服务端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_ShadowsocksR_Libev_Server=y
CONFIG_PACKAGE_tuic-client=y                    # TUIC客户端
CONFIG_PACKAGE_luci-app-passwall2_INCLUDE_tuic_client=y

# 17. 系统关机：WEB关机/重启（LuCI界面，无额外依赖）
CONFIG_PACKAGE_luci-app-poweroff=y

# 18. 网络代理：V2Ray服务端（基础+LuCI界面）
CONFIG_PACKAGE_v2ray-server=y       # V2Ray核心服务包
CONFIG_PACKAGE_luci-app-v2ray-server=y  # V2Ray LuCI管理界面

# 19. 网络共享：Samba4（基础+LuCI界面，文件共享）
CONFIG_PACKAGE_samba4=y             # Samba4核心服务包
CONFIG_PACKAGE_luci-app-samba4=y    # Samba4 LuCI管理界面

# 20. WEB终端：TTYD（基础+LuCI界面，网页端命令行）
CONFIG_PACKAGE_ttyd=y               # TTYD核心服务包
CONFIG_PACKAGE_luci-app-ttyd=y      # TTYD LuCI管理界面

# 21. 组播转单播：UDProxy（基础+LuCI界面，IPTV适配）
CONFIG_PACKAGE_udpxy=y              # UDProxy核心服务包
CONFIG_PACKAGE_luci-app-udpxy=y     # UDProxy LuCI管理界面

# 22. 网络加速：TurboACC（基础+LuCI界面，含DNS/转发优化）
CONFIG_PACKAGE_turboacc=y                       # TurboACC核心加速包
CONFIG_PACKAGE_luci-app-turboacc=y              # TurboACC LuCI管理界面
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y  # 硬件卸载加速
CONFIG_PACKAGE_dnsforwarder=y                   # DNS转发器（TurboACC依赖）
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_DNSFORWARDER=y
CONFIG_PACKAGE_dnsproxy=y                       # DNS代理（TurboACC依赖）
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_DNSPROXY=y

# 23. 解锁音乐：UnblockMusic（基础+LuCI界面，解锁音乐版权）
CONFIG_PACKAGE_unblockmusic=y       # UnblockMusic核心服务包
CONFIG_PACKAGE_luci-app-unblockmusic=y  # UnblockMusic LuCI管理界面

# 24. UPnP：自动端口映射（基础+LuCI界面）
CONFIG_PACKAGE_upnp=y               # UPnP核心服务包
CONFIG_PACKAGE_luci-app-upnp=y      # UPnP LuCI管理界面

# 25. 网络唤醒：WOL（基础+LuCI界面，远程唤醒设备）
CONFIG_PACKAGE_wol=y                # WOL核心服务包
CONFIG_PACKAGE_luci-app-wol=y       # WOL LuCI管理界面

# 26. VPN：OpenVPN（基础+LuCI界面，通用VPN）
CONFIG_PACKAGE_openvpn=y            # OpenVPN核心服务包
CONFIG_PACKAGE_luci-app-openvpn=y   # OpenVPN LuCI管理界面

# 27. 网络代理：VSSR（核心+LuCI界面+依赖，LuCI设为模块编译）
CONFIG_PACKAGE_vssr=y                       # VSSR核心服务包
CONFIG_PACKAGE_luci-app-vssr=m              # VSSR LuCI界面（模块模式，按需加载）
# VSSR 依赖包
CONFIG_PACKAGE_v2ray-plugin=y               # V2Ray插件（VSSR依赖）
CONFIG_PACKAGE_luci-app-vssr_INCLUDE_V2ray_plugin=y
CONFIG_PACKAGE_xray=y                       # Xray核心包（VSSR依赖）
CONFIG_PACKAGE_luci-app-vssr_INCLUDE_Xray=y
CONFIG_PACKAGE_trojan=y                     # Trojan核心包（VSSR依赖）
CONFIG_PACKAGE_luci-app-vssr_INCLUDE_Trojan=y
CONFIG_PACKAGE_kcptun=y                     # KCPTun核心包（VSSR依赖）
CONFIG_PACKAGE_luci-app-vssr_INCLUDE_Kcptun=y
CONFIG_PACKAGE_luci-app-vssr_INCLUDE_ShadowsocksR_Server=y  # 复用SSR服务端依赖

# -------------------------- VPN专项插件 --------------------------
# 1. ZeroTier：虚拟局域网（基础+LuCI界面）
CONFIG_PACKAGE_zerotier=y           # ZeroTier核心服务包
CONFIG_PACKAGE_luci-app-zerotier=y  # ZeroTier LuCI管理界面

# 2. PPTP VPN：PPTP服务端（基础+LuCI界面）
CONFIG_PACKAGE_pptpd=y              # PPTPD核心服务包
CONFIG_PACKAGE_luci-app-pptp-server=y  # PPTP服务端LuCI界面
CONFIG_PACKAGE_luci-app-pptpd=y     # PPTPD LuCI管理界面（兼容配置）

# 3. IPSEC VPN：IPSEC服务端（核心+LuCI界面）
CONFIG_PACKAGE_strongswan=y         # StrongSwan核心包（IPSEC基础）
CONFIG_PACKAGE_strongswan-ipsecmgr=y  # IPSEC管理工具
CONFIG_PACKAGE_luci-app-ipsec-server=y  # IPSEC服务端LuCI界面
CONFIG_PACKAGE_luci-app-ipsec-vpnd=y    # IPSEC VPN守护进程LuCI界面
CONFIG_PACKAGE_luci-app-ipsec-vpnserver-manyusers=y  # 多用户IPSEC服务端

# 4. OpenVPN服务端：独立服务端配置（基础+LuCI界面）
CONFIG_PACKAGE_openvpn-server=y     # OpenVPN服务端核心包
CONFIG_PACKAGE_luci-app-openvpn-server=y  # OpenVPN服务端LuCI界面

# 5. SoftEther VPN：多协议VPN（基础+LuCI界面）
CONFIG_PACKAGE_softethervpn=y       # SoftEtherVPN核心包
CONFIG_PACKAGE_luci-app-softethervpn=y  # SoftEtherVPN LuCI界面

# -------------------------- 主题配置 --------------------------
# 1. Argon主题：高颜值LuCI主题
CONFIG_PACKAGE_luci-theme-argon=y
# 2. Design主题：简约LuCI主题
CONFIG_PACKAGE_luci-theme-design=y

# -------------------------- 基础工具包 --------------------------
CONFIG_PACKAGE_autosamba=y              # 自动配置Samba
CONFIG_PACKAGE_ddns-scripts_cloudflare.com-v4=y  # Cloudflare V4 DDNS脚本
CONFIG_PACKAGE_htop=y                   # 系统进程监控工具
CONFIG_PACKAGE_iperf3=y                 # 网络带宽测试工具
CONFIG_PACKAGE_nano-plus=y              # 增强版Nano编辑器
CONFIG_PACKAGE_openssh-sftp-server=y    # SFTP服务端（文件传输）
CONFIG_PACKAGE_snmpd=y                  # SNMP网络管理工具
CONFIG_PACKAGE_vim-fuller=y             # 完整版Vim编辑器
CONFIG_PACKAGE_zsh=y                    # Zsh终端（替代Bash）

# -------------------------- 内核加速模块 --------------------------
CONFIG_PACKAGE_kmod-shortcut-fe=y       # Shortcut-FE加速模块（网络转发）
CONFIG_PACKAGE_kmod-shortcut-fe-cm=y    # Shortcut-FE连接管理模块

# -------------------------- IPv6支持 --------------------------
CONFIG_PACKAGE_6in4=y                   # IPv6 over IPv4隧道
CONFIG_PACKAGE_ipv6helper=y             # IPv6辅助工具集
CONFIG_PACKAGE_ip6tables=y              # IPv6防火墙
CONFIG_PACKAGE_ip6tables-extra=y        # IPv6防火墙扩展规则
CONFIG_PACKAGE_ip6tables-mod-nat=y      # IPv6 NAT模块

# -------------------------- 禁用插件（注释说明） --------------------------
# CONFIG_PACKAGE_luci-app-accesscontrol is not set    # 访问控制（未启用）
# CONFIG_PACKAGE_luci-app-cifs-mount is not set       # CIFS挂载（未启用）
# CONFIG_PACKAGE_luci-app-dockerman is not set        # Docker管理（未启用）
# CONFIG_PACKAGE_luci-app-frpc is not set             # FRP内网穿透（未启用）
# CONFIG_PACKAGE_luci-app-mosdns=y                    # MosDNS（注释未生效，需确认是否启用）
# CONFIG_PACKAGE_luci-app-smartdns is not set         # SmartDNS（未启用）
# CONFIG_PACKAGE_luci-app-rclone_INCLUDE_rclone-ng is not set  # Rclone-NG（未启用）
# CONFIG_PACKAGE_luci-app-rclone_INCLUDE_rclone-webui is not set  # Rclone WEBUI（未启用）
# CONFIG_PACKAGE_luci-app-samba is not set            # Samba（已启用Samba4，禁用旧版）
# CONFIG_PACKAGE_luci-app-ramfree is not set          # 内存释放（未启用）
# CONFIG_PACKAGE_luci-app-vlmcsd is not set           # KMS激活（未启用）
# CONFIG_PACKAGE_luci-app-vsftpd is not set           # FTP服务（未启用）
# CONFIG_PACKAGE_luci-app-wireguard is not set        # WireGuard VPN（未启用）
# CONFIG_PACKAGE_luci-app-wrtbwmon is not set         # 流量监控（未启用）
# CONFIG_PACKAGE_luci-app-xlnetacc is not set         # 迅雷快鸟（未启用）
